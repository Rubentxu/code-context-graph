# Issues derivados del PRD

Este documento lista issues accionables derivados de `PRD.md`. Use este listado para crear tickets en el tracker que utilice el equipo (GitHub/GitLab/Jira).

Leyenda: [ ] pendiente, [~] en progreso, [x] hecho. Owner y fecha son placeholders.

## Fase 0 — Fundaciones (semana 1-2)
- [ ] Inicializar workspace de crates y estructura Hexagonal (owner: TBD, fecha: YYYY-MM-DD)
- [ ] Configuración validada (schema + runtime) y logging/tracing base (owner: TBD)
- [ ] CAS mínimo viable (store/retrieve/exists) con Blake3 + zstd opcional (owner: TBD)
- [ ] Merkle Tree básico (build, root, diff simple) (owner: TBD)
- [ ] CLI `analyze` básica (owner: TBD)

## Fase 1 — Grafo y Parsing (semana 3-5)
- [ ] Parsers Tree-sitter y AST simplificado: Python (owner: TBD)
- [ ] Parsers Tree-sitter y AST simplificado: JavaScript (owner: TBD)
- [ ] Parsers Tree-sitter y AST simplificado: Java (owner: TBD)
- [ ] Parsers Tree-sitter y AST simplificado: Kotlin (owner: TBD)
- [ ] Graph builder: generación de nodos y relaciones (owner: TBD)
- [ ] Inserción en FalkorDB con MERGE y manejo de duplicados (owner: TBD)
- [ ] Índices iniciales en grafo (owner: TBD)
- [ ] Consultas básicas desde CLI/API (owner: TBD)
 - [ ] AST simplificado común y normalización por lenguaje (owner: TBD)
 - [ ] Indexación de símbolos y scopes por archivo/módulo (owner: TBD)
 - [ ] Resolución básica de nombres y tipos por lenguaje (owner: TBD)
 - [ ] Construcción de Class Graph (extends/implements/part-of) (owner: TBD)
 - [ ] Construcción de Call Graph intra/inter módulo con heurísticas (owner: TBD)
 - [ ] Cálculo inicial de pesos de relaciones (fan-in/out, frecuencia, proximidad) (owner: TBD)

## Fase 2 — Watcher e Incremental (semana 6-7)
- [ ] File watcher con debounce/batch/ignore (owner: TBD)
- [ ] Pipeline incremental: reprocesar solo afectados (owner: TBD)
- [ ] Integración de versioning en el pipeline (owner: TBD)
 - [ ] Reconciliador de deltas: NODE_UPSERT/EDGE_UPSERT/NODE_DELETE/EDGE_DELETE (owner: TBD)
 - [ ] Idempotencia por claves naturales y retrys (owner: TBD)
 - [ ] SLA: detección→grafo < 1s por archivo (tests) (owner: TBD)

## Fase 3 — Calidad y Connascence (semana 8-9)
- [ ] Métricas de calidad: cohesión, coupling, complejidad, maintainability (owner: TBD)
- [ ] Detectores de connascence: estática (Name, Type, Meaning, Position, Algorithm) (owner: TBD)
- [ ] Detectores de connascence: dinámica (Execution; Timing opcional) (owner: TBD)
- [ ] Reporte/endpoint de overview de calidad (owner: TBD)
- [ ] Sugerencias de refactor iniciales (owner: TBD)
 - [ ] Modelo n-ario de ConnascenceGroup (hub + AffectedBy) (owner: TBD)
 - [ ] Agregación de connascence por scope (Feature|UseCase|Module) con ventana (version|moving N) (owner: TBD)
 - [ ] Scoring de connascence ∈ [0,1] por tipo con thresholds configurables (owner: TBD)
 - [ ] Materialización de agregados por versión para consultas rápidas (owner: TBD)
 - [ ] Validación de cobertura y calidad de detectores (golden tests por lenguaje) (owner: TBD)
 - [ ] Instrumentación runtime: Python (trace/profiler + pytest plugin) (owner: TBD)
 - [ ] Instrumentación runtime: Node.js/TS (V8 Inspector + sourcemaps) (owner: TBD)
 - [ ] Instrumentación runtime: JVM (Java Agent ByteBuddy/ASM + JUnit) (owner: TBD)
 - [ ] Instrumentación runtime: Rust (tracing + cargo-llvm-cov) (owner: TBD)
 - [ ] Ingesta de trazas: POST /api/v1/runtime/traces (NDJSON/Protobuf) (owner: TBD)
 - [ ] Correlación de trazas con símbolos del grafo por versión (owner: TBD)
 - [ ] Derivación Execution/Timing y creación de ConnascenceGroup con pesos (owner: TBD)
 - [ ] Controles: sampling, exclusiones por path, redacción de args (owner: TBD)

## Fase 4 — AASE y APIs (semana 10-11)
- [ ] Artefactos AASE: listar/obtener/generar (owner: TBD)
- [ ] API REST estable + WS actualizaciones + rate limiting/CORS (owner: TBD)
- [ ] CLI: `query`, `version`, `watch` maduras (owner: TBD)
 - [ ] Endpoints dominio: listar/obtener Features y UseCases (owner: TBD)
 - [ ] Endpoint: /domain/features/{id}/artifacts (miembros con evidence/confidence) (owner: TBD)
 - [ ] Endpoint: /domain/use-cases/{id}/features (y métricas agregadas) (owner: TBD)
 - [ ] Endpoint: /domain/relations/sets (superset/subset/overlaps/disjoint) (owner: TBD)
 - [ ] Endpoint: /domain/sets/derive (derivar/materializar relaciones con thresholds) (owner: TBD)
 - [ ] Endpoint: /quality/connascence/aggregate (owner: TBD)
 - [ ] Instrumentación opcional de tests para connascence dinámica (Execution/Timing) tras flag (owner: TBD)
 - [ ] Integraciones opcionales: tsserver (TS) / JDT/ASM (JVM) tras flag (owner: TBD)
 - [ ] UseCase Context Bundle: GET /context/use-cases/{id}/bundle (+ params) (owner: TBD)
 - [ ] API de mutación dominio: POST/PATCH/DELETE /domain/{entity}[/{id}] (owner: TBD)
 - [ ] API de contexto: POST /context/metadata/{node_id}, /context/prompts/{task} (owner: TBD)
 - [ ] WS /ws/updates eventos NODE_/EDGE_*/AGGREGATE_UPDATE con version_id (owner: TBD)

## Context Engineering para IA (multi-fase)
- [ ] Extracción de evidence/provenance por nodo/arista (archivo, commit, test, doc) (owner: TBD)
- [ ] Generación de summaries extractivos por Code/Feature/UseCase (owner: TBD)
- [ ] Generación opcional de summaries abstractive detrás de flag (owner: TBD)
- [ ] Intent/purpose e invariants/contracts a partir de firmas y docs (owner: TBD)
- [ ] Keywords/tópicos (n-grams/RAKE-like) y tagging heurístico (owner: TBD)
- [ ] Redacción automática de PII/secrets (regex/heurística) (owner: TBD)
- [ ] Vector store opcional (Redis-VSS/Qdrant/Tantivy-HNSW) y pipeline de embeddings (owner: TBD)
- [ ] Índices full-text (summary/intent) y por tags/tipo/contexto (owner: TBD)
- [ ] Scoring híbrido (semántica + proximidad de grafo + pesos + recientez + evidencia) (owner: TBD)
- [ ] Endpoints: /context/{id}, /context/search, /context/rank, /context/expand, /context/prompts/{task}, /context/embeddings (owner: TBD)
- [ ] Golden set y métricas de relevancia (≥90% precisión) (owner: TBD)
- [ ] Auditoría de procedencia y trazabilidad de resúmenes/embeddings (owner: TBD)

## Fase 5 — Endurecimiento (semana 12)
- [ ] Tests integrales y property-based (owner: TBD)
- [ ] Pruebas de rendimiento con dataset grande (owner: TBD)
- [ ] Observabilidad (métricas opcionales Prometheus, health checks) (owner: TBD)
- [ ] GC/retención y limpieza de CAS (owner: TBD)
- [ ] Documentación E2E + ejemplo reproducible (owner: TBD)

## Dominio y Ontología (multi-fase)
- [ ] Catalogación de Features y UseCases (AASE + features.yaml) (owner: TBD)
- [ ] Trazabilidad: TracesTo (Code->Feature/UseCase) (owner: TBD)
- [ ] Pertenencia: MemberOf (Artifact->Feature, Feature->UseCase) con {evidence, confidence, source} (owner: TBD)
- [ ] Realizes (Feature->UseCase) como alias fuerte de SupportsUseCase (owner: TBD)
- [ ] Satisfies (Feature|Code->Requirement) y Verifies (TestCase->Feature|UseCase) (owner: TBD)
- [ ] OwnedBy (Feature|UseCase->Team) (owner: TBD)
- [ ] BoundedContext: MemberOf (Feature->BoundedContext), Touches (UseCase->BoundedContext) (owner: TBD)
- [ ] Derivación de conjuntos: SupersetOf/SubsetOf/Overlaps/DisjointWith a partir de MemberOf (owner: TBD)
- [ ] Materialización opcional de relaciones de conjunto con metadatos {confidence, sample_size, version_range} (owner: TBD)
- [ ] Validadores: ciclos en PartOf/ComposedOf, orden parcial en Superset/SubSet, UseCase sin Features, Feature sin artifacts, Overlaps alto entre Features (owner: TBD)

## Cross-cutting
- [ ] Seguridad API: límites de profundidad, sanitización, API key (owner: TBD)
- [ ] Compatibilidad multiplataforma (Linux/macOS/Windows) (owner: TBD)
- [ ] Migraciones/compatibilidad de esquema de grafo (owner: TBD)

## Extras (post-MVP)
- [ ] Integración con vector store para embeddings por función/archivo (owner: TBD)
- [ ] Resúmenes de componentes generados por LLM (owner: TBD)
